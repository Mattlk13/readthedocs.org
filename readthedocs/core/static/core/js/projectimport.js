require=function e(r,n,t){function o(i,s){if(!n[i]){if(!r[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[i]={exports:{}};r[i][0].call(l.exports,function(e){var n=r[i][1][e];return o(n?n:e)},l,l.exports,e,r,n,t)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(e,r,n){function t(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}$.ajaxSetup({beforeSend:function(e,r){function n(e){var r=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),t=0;t<n.length;t++){var o=jQuery.trim(n[t]);if(o.substring(0,e.length+1)==e+"="){r=decodeURIComponent(o.substring(e.length+1));break}}return r}if(!t(r.type)&&!this.crossDomain){var o=n("csrftoken");e.setRequestHeader("X-CSRFToken",o)}}})},{}],2:[function(e,r,n){function t(e){function r(){a.getJSON(e.url).success(function(e){e.finished?e.success?n.resolve():n.reject(e.error||"Error"):setTimeout(r,2e3)}).error(function(e){console.error("Error polling task:",e),setTimeout(r,2e3)})}var n=a.Deferred();return setTimeout(r,2e3),n}function o(e){var r=a.Deferred();return $.ajax({method:"POST",url:e,success:function(e){t(e).then(function(){r.resolve()}).fail(function(e){r.reject(e)})},error:function(e){r.reject(e)}}),r}var a=e("jquery");r.exports={poll_task:t,trigger_task:o}},{jquery:"jquery"}],"core/projectimport":[function(e,r,t){function o(e){var r=this;r.id=u.observable(e.id),r.name=u.observable(e.name),r.slug=u.observable(e.slug),r.active=u.observable(e.active),r.avatar_url=u.observable(s(e.avatar_url,{size:32})),r.display_name=u.computed(function(){return r.name()||r.slug()})}function a(e){var r=this;r.id=u.observable(e.id),r.name=u.observable(e.name),r.full_name=u.observable(e.full_name),r.organization=u.observable(),e.organization&&r.organization(new o(e.organization)),r.http_url=u.observable(e.http_url),r.clone_url=u.observable(e.clone_url),r.ssh_url=u.observable(e.ssh_url),r["private"]=u.observable(e["private"]),r.active=u.observable(e.active),r.avatar_url=u.observable(s(e.avatar_url,{size:32})),r.import_repo=function(){alert("FUCK")}}function i(e,r){var t=this;t.urls=r||{},t.error=u.observable(null),t.is_syncing=u.observable(!1),t.page_count=u.observable(null),t.page_current=u.observable(null),t.page_next=u.observable(null),t.page_previous=u.observable(null),t.filter_org=u.observable(null),t.organizations_raw=u.observableArray(),t.organizations=u.computed(function(){var e=[],r=t.organizations_raw();for(n in r){var a=new o(r[n]);e.push(a)}return e}),t.projects=u.observableArray(),u.computed(function(){var e=t.filter_org(),r=(t.organizations(),t.page_current()||t.urls["oauthrepository-list"]);e&&(r=s(r,{org:e})),c.getJSON(r).success(function(e){var r=[];t.page_next(e.next),t.page_previous(e.previous);for(n in e.results){var o=new a(e.results[n]);r.push(o)}t.projects(r)}).error(function(e){t.error(e)})}),t.get_organizations=function(){c.getJSON(t.urls["oauthorganization-list"]).success(function(e){t.organizations_raw(e.results)}).error(function(e){t.error(e)})},t.sync_projects=function(){var e=t.urls.api_sync_github_repositories;t.error(null),t.is_syncing(!0),l.trigger_task(e).then(function(e){t.get_organizations()}).fail(function(e){e=e||"An error occured",t.error(e)}).always(function(){t.is_syncing(!1)})},t.next_page=function(){t.page_current(t.page_next())},t.previous_page=function(){t.page_current(t.page_previous())}}function s(e,r){var n=c("<a>").attr("href",e).get(0);return Object.keys(r).map(function(e){n.search&&(n.search+="&"),n.search+=e+"="+r[e]}),n.href}var u=e("knockout"),c=e("jquery"),l=e("./tasks");e("./django-csrf.js"),c(function(){var e=c("#id_repo"),r=c("#id_repo_type");e.blur(function(){var n,t=e.val();switch(!0){case/^hg/.test(t):n="hg";break;case/^bzr/.test(t):case/launchpad/.test(t):n="bzr";break;case/trunk/.test(t):case/^svn/.test(t):n="svn";break;default:case/github/.test(t):case/(^git|\.git$)/.test(t):n="git"}r.val(n)}),c("[data-sync-repositories]").each(function(){})}),i.init=function(e,r,n){var t=new i(r,n);return t.get_organizations(),u.applyBindings(t,e),t},r.exports.ProjectImportView=i},{"./django-csrf.js":1,"./tasks":2,jquery:"jquery",knockout:"knockout"}]},{},[]);